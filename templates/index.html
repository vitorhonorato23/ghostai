<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/static/style.css">
    <title>ChatGPT API com FastAPI</title>
</head>
<body>
    <h1>Mande sua mensagem</h1>
    <form method="post" action="/clear" style="margin-top: 10px;">
        <button type="submit" style="background-color: #f44336;">🗑️ Clear Conversation</button>
    </form>
    <form method="post">
        <textarea name="prompt" rows="4" cols="50" placeholder="Enter your prompt here...">{{ user_prompt }}</textarea>
        <br>
        <button type="submit">Enviar</button>
    </form>

    {% for message in history %}
        <p><strong>{{ message.role.capitalize() }}:</strong> {{ message.content }}</p>
    {% endfor %}

    {% if chat_response %}
        <h2>Latest Response:</h2>
        <p>{{ chat_response }}</p>
    {% endif %}
</body>
</html>
